<%= render "layouts/map" %>

<section id="map_tank">
  <div class="map_tank_inner">
    <div id="map-a-tank">
      <div class="map_tank_form">
        <%= form_for(@tank_location, local: true) do |form| %>
         <% if tank_location.errors.any? %>
           <div id="error_explanation">
             <h2><%= pluralize(tank_location.errors.count, "error") %> prohibited this tank_location from being saved:</h2>

             <ul>
             <% tank_location.errors.full_messages.each do |message| %>
               <li><%= message %></li>
             <% end %>
             </ul>
           </div>
         <% end %>

            <h2>Map a Water Tank</h2>
            <div>
             <%= form.text_field :latitude, id: :tank_location_latitude, class: 'form-control', type: 'hidden' %>
            </div>

            <div class="field form-group">
             <%= form.text_field :longitude, id: :tank_location_longitude, class: 'form-control', type: 'hidden' %>
            </div>

            <div>
             <%= form.text_field :address, placeholder: 'Click the Map or Enter an Address', id: :tank_location_address %>
            </div>

            <div>
             <%= form.select :neighborhood, get_neighborhood_names, id: :tank_location_neighborhood %>
            </div>

               <div>
                  <%= form.fields_for :photos do |photo_form| %>
                    <label class="fileContainer">
                      <%= photo_form.file_field :image, id: :photo_image, onchange: "imagePreview(this)" %>
                      <i class="fa fa-camera"></i><p>Upload a Photo</p>
                    </label>
                  <% end %>
               </div>

               <div>
                <%= image_tag("", id: "imgpreview", :style => "width: 150px; height: 150px" ) %>
              </div>

               <div>
                 <%= form.submit "Submit", class: "button" %>
               </div>
          <% end %>
    </div>
    </div>
  </div>
</section>
